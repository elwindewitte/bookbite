---
layout: layouts/base.njk
---
{%- set pageName -%}{{ name }}{%- endset -%}
{%- include "navTop.njk" -%}

{%- include "navBottom.njk" -%}

{# Getting the author's name #}
{%- set authorName -%}
    {%- set listFilterShow = authorTag -%}
    {%- set listContent = collections.author -%}
    {%- include "dataAuthorName.njk" -%}
{%- endset -%}

{# Getting the author's page url #}
{%- set authorUrl -%}
    {%- set listFilterShow = authorTag -%}
    {%- set listContent = collections.author -%}
    {%- include "dataAuthorUrl.njk" -%}
{%- endset -%}

{# {%- set bookRating -%}
    {%- set bookData -%} 
        {{ collection.book | getCollectionItem(page) }}
    {%- endset -%}
    {%- include "onPageBookRating.njk" -%}
{%- endset -%} #}

<div class="book-reading-overlay passive" id="bookOverlay">
    <div class="top-controls"></div>
    <div class="content">
        {{ content | safe }}
    </div>
    <div class="bottom-controls"></div>
</div>

<div class="book-page-header">
    <div class="column">
        <img src="{{ '/' | url }}{{ coverImage | url }}" alt="{{ '/' | url }}{{ coverImage }}"></img>
    </div>
    <div class="column">
        <h3>{{ name }}</h3>
        <p>Van <a href="{{ authorUrl }}">{{ authorName }}</a></p>
        <br>
        {{ bookRating }}
    </div>
</div>

<div class="book-page-section">
    <a class="button primary" onclick="openBookOverlay()">
        <p>Lees boek</p>
    </a>
</div>

<div class="book-page-section">
    <h3>Beschrijving</h3>
    <p>{{ description }}</p>   
</div>

<section class="with-bottom-nav">
    {%- set listName = "Meer boeken van deze auteur" -%}
    {%- set listFilterShow = authorTag -%}
    {%- set listFilterHide = name -%}
    {%- set listContent = collections.book -%}
    {%- include "onPageListBook.njk" -%}

    {%- set listName = "Vergelijkbare boeken" -%}
    {%- set listFilterShow = genreTag -%}
    {%- set listFilterHide = serieTag -%}
    {%- set listContent = collections.book -%}
    {%- include "onPageListBook.njk" -%}
</section>

<script>
function openBookOverlay() {
    var bookOverlay = document.getElementById('bookOverlay');

    bookOverlay.classList.remove('passive');
    bookOverlay.classList.add('active');
};
</script>
